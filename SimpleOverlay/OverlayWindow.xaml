<Window x:Class="SimpleOverlay.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Overlay" WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        Topmost="True" ResizeMode="CanResize" ShowInTaskbar="False"
        Width="800" Height="600">
    <Grid x:Name="MainGrid" Background="Transparent">
        
        <!-- Ana resim - sadece bu alanı sürüklenebilir -->
        <Image x:Name="OverlayImage" 
               RenderOptions.BitmapScalingMode="HighQuality"
               Stretch="Fill"
               HorizontalAlignment="Left"
               VerticalAlignment="Top"
               RenderTransformOrigin="0,0"
               MouseLeftButtonDown="Image_MouseDown"
               MouseMove="Image_MouseMove"
               MouseLeftButtonUp="Image_MouseUp"/>
        
        <!-- Move mode border -->
        <Border x:Name="MoveBorder" 
                BorderBrush="Blue" BorderThickness="3" 
                Visibility="Collapsed" IsHitTestVisible="False"/>
        
        <!-- Resize handle - resmin sağ alt köşesinde -->
        <Canvas x:Name="ResizeCanvas" Visibility="Collapsed">
            <Rectangle x:Name="ResizeHandle" 
                       Fill="#AAFFFFFF" Stroke="#FF0000FF" StrokeThickness="2"
                       Width="25" Height="25" 
                       Cursor="SizeNWSE"
                       MouseLeftButtonDown="Resize_MouseDown"
                       MouseMove="Resize_MouseMove"
                       MouseLeftButtonUp="Resize_MouseUp"
                       MouseEnter="ResizeHandle_MouseEnter"
                       MouseLeave="ResizeHandle_MouseLeave">
                <Rectangle.RenderTransform>
                    <ScaleTransform x:Name="HandleScale" ScaleX="1" ScaleY="1"/>
                </Rectangle.RenderTransform>
            </Rectangle>
        </Canvas>
    </Grid>
</Window>